@import url('https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Space+Grotesk:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 36 15% 82%;
    --foreground: 30 10% 15%;

    --card: 36 14% 85%;
    --card-foreground: 30 10% 15%;

    --popover: 36 14% 85%;
    --popover-foreground: 30 10% 15%;

    --primary: 30 8% 28%;
    --primary-foreground: 36 20% 92%;

    --secondary: 34 12% 78%;
    --secondary-foreground: 30 10% 20%;

    --muted: 34 10% 76%;
    --muted-foreground: 30 6% 45%;

    --accent: 34 14% 74%;
    --accent-foreground: 30 10% 15%;

    --destructive: 12 80% 55%;
    --destructive-foreground: 40 25% 96%;

    --border: 32 10% 68%;
    --input: 32 10% 68%;
    --ring: 30 8% 28%;

    --radius: 0.375rem;

    /* Accent colors */
    --ctrl-green: 145 55% 38%;
    --ctrl-green-foreground: 145 60% 96%;
    --ctrl-red: 12 70% 48%;
    --ctrl-red-foreground: 12 75% 96%;
    --ctrl-blue: 210 55% 45%;
    --ctrl-blue-foreground: 210 65% 96%;
    --ctrl-orange: 28 85% 55%;
    --ctrl-yellow: 45 80% 45%;
    --ctrl-purple: 270 40% 50%;

    /* Keyboard casing */
    --casing-outer: 34 10% 72%;
    --casing-mid: 36 14% 80%;
    --casing-inner: 36 12% 84%;
    --casing-highlight: 38 20% 90%;
    --casing-shadow: 30 8% 55%;
    --casing-deep-shadow: 28 10% 40%;

    /* Panel inset */
    --panel-bg: 36 12% 86%;
    --panel-border-light: 38 18% 92%;
    --panel-border-dark: 30 10% 62%;
    --panel-inset: 34 10% 83%;

    /* Sidebar */
    --sidebar-background: 36 14% 85%;
    --sidebar-foreground: 30 10% 15%;
    --sidebar-primary: 30 8% 28%;
    --sidebar-primary-foreground: 36 20% 92%;
    --sidebar-accent: 34 14% 74%;
    --sidebar-accent-foreground: 30 10% 15%;
    --sidebar-border: 32 10% 68%;
    --sidebar-ring: 30 8% 28%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Space Grotesk', system-ui, sans-serif;
    overflow: hidden;
  }
  html, body, #root {
    height: 100%;
  }
  code, .font-mono {
    font-family: 'Space Mono', monospace;
  }
}

@layer components {
  /* The main keyboard body / outer casing */
  .keyboard-body {
    background: linear-gradient(
      180deg,
      hsl(var(--casing-highlight)) 0%,
      hsl(var(--casing-mid)) 8%,
      hsl(var(--casing-inner)) 50%,
      hsl(var(--casing-mid)) 92%,
      hsl(var(--casing-outer)) 100%
    );
    border-radius: 20px;
    border: 2px solid hsl(var(--casing-shadow));
    box-shadow:
      0 2px 0 hsl(var(--casing-highlight)),
      0 8px 20px hsl(var(--casing-deep-shadow) / 0.4),
      0 20px 40px hsl(var(--casing-deep-shadow) / 0.2),
      inset 0 1px 0 hsl(var(--casing-highlight) / 0.6);
  }

  /* Title bar - like the "CTRL" key label at top */
  .keyboard-title-bar {
    background: linear-gradient(
      180deg,
      hsl(var(--casing-mid)) 0%,
      hsl(var(--casing-outer)) 40%,
      hsl(var(--casing-shadow) / 0.3) 100%
    );
    border-radius: 10px;
    border: 1px solid hsl(var(--casing-shadow));
    border-top-color: hsl(var(--casing-highlight));
    box-shadow:
      0 3px 6px hsl(var(--casing-deep-shadow) / 0.2),
      inset 0 1px 0 hsl(var(--casing-highlight) / 0.5);
  }

  .ctrl-brand-lockup {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 78px;
    line-height: 1;
    text-rendering: geometricPrecision;
    -webkit-font-smoothing: antialiased;
    width: 100%;
  }

  .ctrl-brand-lockup-stream {
    min-height: 92px;
  }

  .ctrl-brand-wordmark {
    font-family: "Orbitron", "Segoe UI", sans-serif;
    font-weight: 900;
    font-size: clamp(2.05rem, 4.1vw, 2.8rem);
    letter-spacing: 0.17em;
    text-indent: 0.17em;
    transform: scaleX(1.08);
    text-transform: uppercase;
    background: linear-gradient(180deg, #ffffff 0%, #e9ebef 28%, #c3c8d0 62%, #f6f7f9 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    text-shadow:
      0 1px 0 rgb(255 255 255 / 0.6),
      0 2px 2px rgb(12 14 20 / 0.28),
      0 4px 8px rgb(0 0 0 / 0.22);
    white-space: nowrap;
  }

  .ctrl-brand-tagline {
    margin-top: 4px;
    font-family: "Share Tech Mono", "Consolas", monospace;
    font-size: clamp(0.58rem, 1.02vw, 0.8rem);
    letter-spacing: 0.17em;
    text-transform: uppercase;
    color: hsl(var(--muted-foreground));
    white-space: nowrap;
  }

  .ctrl-brand-powered {
    margin-top: 4px;
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-family: "Share Tech Mono", "Consolas", monospace;
    font-size: 10px;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: hsl(var(--muted-foreground));
    white-space: nowrap;
  }

  .ctrl-grok-symbol {
    position: relative;
    width: 11px;
    height: 11px;
    border-radius: 999px;
    border: 1.4px solid hsl(var(--foreground) / 0.75);
    display: inline-block;
    box-shadow: 0 0 6px hsl(var(--foreground) / 0.18);
  }

  .ctrl-grok-symbol::after {
    content: "";
    position: absolute;
    left: 50%;
    top: 50%;
    width: 8px;
    height: 1.4px;
    border-radius: 999px;
    background: hsl(var(--foreground) / 0.78);
    transform: translate(-50%, -50%) rotate(-34deg);
  }

  /* Inset panel - recessed compartments */
  .keycap-inset {
    background: hsl(var(--panel-inset));
    border: 1px solid hsl(var(--panel-border-dark));
    border-bottom-color: hsl(var(--panel-border-light));
    border-right-color: hsl(var(--panel-border-light));
    border-radius: 6px;
    box-shadow:
      inset 0 2px 6px hsl(var(--casing-shadow) / 0.2),
      inset 0 1px 2px hsl(var(--casing-shadow) / 0.15);
  }

  /* Raised keycap button */
  .keycap-button {
    background: linear-gradient(
      180deg,
      hsl(var(--casing-highlight)) 0%,
      hsl(var(--casing-mid)) 50%,
      hsl(var(--casing-outer)) 100%
    );
    border-radius: 8px;
    border: 1px solid hsl(var(--casing-shadow));
    border-top-color: hsl(var(--casing-highlight));
    box-shadow:
      0 3px 0 hsl(var(--casing-shadow)),
      0 4px 8px hsl(var(--casing-deep-shadow) / 0.25),
      inset 0 1px 0 hsl(var(--casing-highlight) / 0.6);
  }
  .keycap-button:active {
    transform: translateY(2px);
    box-shadow:
      0 1px 0 hsl(var(--casing-shadow)),
      0 1px 3px hsl(var(--casing-deep-shadow) / 0.25),
      inset 0 1px 0 hsl(var(--casing-highlight) / 0.4);
  }

  /* CRT scanline overlay */
  .crt-scanlines {
    position: relative;
  }
  .crt-scanlines::after {
    content: '';
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      hsl(var(--foreground) / 0.04) 2px,
      hsl(var(--foreground) / 0.04) 4px
    );
    border-radius: inherit;
  }

  /* Status badge variants */
  .status-waiting {
    background: hsl(var(--muted));
    color: hsl(var(--muted-foreground));
  }
  .status-executing {
    background: hsl(var(--ctrl-yellow) / 0.25);
    color: hsl(45 80% 30%);
  }
  .status-burning {
    background: hsl(var(--ctrl-red) / 0.25);
    color: hsl(var(--ctrl-red));
  }
  .status-confirmed {
    background: hsl(var(--ctrl-green) / 0.25);
    color: hsl(var(--ctrl-green));
  }

  /* Terminal line types */
  .terminal-info { color: hsl(var(--ctrl-purple)); }
  .terminal-reward { color: hsl(var(--ctrl-green)); }
  .terminal-buy { color: hsl(45 80% 35%); }
  .terminal-burn { color: hsl(var(--ctrl-red)); }
  .terminal-confirm { color: hsl(var(--ctrl-green)); }
  .terminal-error { color: hsl(var(--ctrl-red)); }

  /* Decorative groove lines */
  .groove-line {
    height: 2px;
    background: linear-gradient(
      90deg,
      transparent 0%,
      hsl(var(--casing-shadow) / 0.3) 10%,
      hsl(var(--casing-shadow) / 0.3) 90%,
      transparent 100%
    );
    border-bottom: 1px solid hsl(var(--casing-highlight) / 0.5);
  }

  .ctrl-terminal-scroll {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--casing-shadow)) hsl(var(--panel-inset));
  }

  .ctrl-terminal-scroll::-webkit-scrollbar {
    width: 10px;
  }

  .ctrl-terminal-scroll::-webkit-scrollbar-track {
    background: hsl(var(--panel-inset));
    border-left: 1px solid hsl(var(--panel-border-dark));
  }

  .ctrl-terminal-scroll::-webkit-scrollbar-thumb {
    background: linear-gradient(
      180deg,
      hsl(var(--casing-highlight)),
      hsl(var(--casing-mid)),
      hsl(var(--casing-shadow))
    );
    border: 1px solid hsl(var(--casing-shadow));
    border-radius: 6px;
  }

  .ctrl-terminal-shell {
    position: relative;
    overflow-x: visible;
  }

  .ctrl-plug-image {
    position: absolute;
    left: 64px;
    bottom: 136px;
    width: 120px;
    max-width: none;
    z-index: 0;
    pointer-events: none;
    user-select: none;
    -webkit-user-drag: none;
    clip-path: inset(0 0 30% 0);
  }

  .ctrl-plug-draggable {
    pointer-events: auto;
    cursor: grab;
  }

  .ctrl-plug-draggable:active {
    cursor: grabbing;
  }

  .ctrl-top-burn-gold {
    position: relative;
    overflow: hidden;
    border-color: rgb(229 170 35 / 0.98);
    background:
      radial-gradient(circle at 18% 28%, rgb(255 247 190 / 0.62), transparent 42%),
      radial-gradient(circle at 76% 72%, rgb(255 212 80 / 0.34), transparent 50%),
      linear-gradient(96deg, rgb(255 231 130 / 0.32), rgb(255 197 39 / 0.16) 40%, rgb(255 236 162 / 0.28));
    box-shadow:
      0 0 0 1px rgb(255 225 130 / 0.58) inset,
      0 0 0 2px rgb(174 112 13 / 0.25),
      0 0 24px rgb(255 214 90 / 0.58),
      0 0 46px rgb(255 180 30 / 0.34);
    animation: gold-pulse 1.65s ease-in-out infinite;
  }

  .ctrl-top-burn-gold::after {
    content: none;
  }

  .ctrl-top-burn-gold::before {
    content: none;
  }

  .ctrl-top-burn-sparkles {
    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 3;
    overflow: hidden;
  }

  .ctrl-top-burn-sparkle {
    position: absolute;
    border-radius: 999px;
    background:
      radial-gradient(circle, rgb(255 255 255 / 1) 0%, rgb(255 252 224 / 1) 52%, rgb(255 233 150 / 0.55) 76%, rgb(255 206 90 / 0.22) 100%);
    box-shadow: 0 0 16px rgb(255 244 182 / 1), 0 0 30px rgb(255 224 124 / 1), 0 0 44px rgb(255 190 70 / 0.75);
    transform: translate(-50%, -50%) scale(0.55);
    animation-name: gold-sparkle;
    animation-timing-function: cubic-bezier(0.22, 0.61, 0.36, 1);
    animation-iteration-count: 1;
    animation-fill-mode: forwards;
    will-change: transform, opacity, filter;
  }

  .ctrl-wallet-burn-bg {
    position: relative;
    overflow: visible;
    isolation: isolate;
    border-color: rgb(210 88 46 / 0.88);
    background:
      linear-gradient(180deg, rgb(38 17 15 / 0.72), rgb(21 13 16 / 0.58) 52%, rgb(12 11 16 / 0.42));
    box-shadow:
      inset 0 0 0 1px rgb(255 115 64 / 0.24),
      inset 0 -12px 24px rgb(255 84 30 / 0.14),
      0 0 22px rgb(255 95 34 / 0.16);
  }

  .ctrl-wallet-burn-bg > * {
    position: relative;
    z-index: 2;
  }

  .ctrl-wallet-burn-bg::before {
    content: none;
  }

  .ctrl-wallet-burn-bg::after {
    content: none;
  }

  .ctrl-wallet-fire-canvas {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    z-index: 1;
    width: 100%;
    height: 100%;
    pointer-events: none;
    mix-blend-mode: screen;
    opacity: 0.96;
  }

  .ctrl-wallet-readplate {
    margin: 1px auto 0;
    max-width: calc(100% - 8px);
    padding: 6px 8px 7px;
    border-radius: 7px;
    background: rgb(8 10 14 / 0.58);
    box-shadow:
      inset 0 0 0 1px rgb(255 255 255 / 0.08),
      0 1px 6px rgb(0 0 0 / 0.45);
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    line-height: 1.45;
    text-shadow: 0 1px 2px rgb(0 0 0 / 0.9);
  }

  .ctrl-wallet-readplate a {
    color: rgb(94 196 255);
    text-shadow: 0 1px 2px rgb(0 0 0 / 0.85);
  }

  .ctrl-transparency-sheen {
    position: relative;
    overflow: hidden;
  }

  .ctrl-transparency-sheen::after {
    content: "";
    position: absolute;
    inset: -1px;
    background: linear-gradient(108deg, transparent 0%, rgb(255 255 255 / 0.45) 48%, transparent 56%);
    mix-blend-mode: screen;
    transform: translateX(-130%);
    animation: transparency-sheen 8.4s ease-in-out infinite;
    pointer-events: none;
  }

  .ctrl-chart-fire-marker text {
    filter: drop-shadow(0 0 4px rgb(255 136 50 / 0.65));
  }

  .ctrl-loop-icon {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 18px;
    height: 18px;
    margin-top: 2px;
    flex: 0 0 auto;
  }

  .ctrl-loop-icon-coin {
    perspective: 160px;
  }

  .ctrl-loop-coin-face {
    width: 14px;
    height: 14px;
    border-radius: 999px;
    background: radial-gradient(circle at 35% 30%, #fff6c5 0%, #f8cd45 32%, #e3a617 74%, #a86b06 100%);
    box-shadow: inset 0 0 0 1px rgb(255 255 255 / 0.34), 0 0 4px rgb(232 184 46 / 0.36);
    transform-style: preserve-3d;
    animation: ctrl-coin-flip 1.05s ease-in-out infinite;
  }

  .ctrl-loop-icon-cart {
    animation: ctrl-cart-wobble 1.15s ease-in-out infinite;
  }

  .ctrl-loop-cart-body {
    position: absolute;
    left: 3px;
    top: 4px;
    width: 11px;
    height: 6px;
    border: 1.5px solid #4a5568;
    border-radius: 2px 2px 3px 3px;
    border-right-width: 2px;
    transform: skewX(-10deg);
    background: linear-gradient(180deg, rgb(255 255 255 / 0.45), rgb(255 255 255 / 0.08));
  }

  .ctrl-loop-cart-body::before {
    content: "";
    position: absolute;
    left: -3px;
    top: -2px;
    width: 4px;
    height: 2px;
    border-top: 1.5px solid #4a5568;
    border-left: 1.5px solid #4a5568;
    border-radius: 2px 0 0 0;
  }

  .ctrl-loop-cart-wheel {
    position: absolute;
    bottom: 1px;
    width: 4px;
    height: 4px;
    border-radius: 999px;
    border: 1.3px solid #475569;
    background: #e2e8f0;
    animation: ctrl-wheel-spin 0.9s linear infinite;
  }

  .ctrl-loop-cart-wheel-a { left: 4px; }
  .ctrl-loop-cart-wheel-b { right: 3px; }

  .ctrl-loop-icon-flame {
    filter: drop-shadow(0 0 4px rgb(255 107 36 / 0.45));
  }

  .ctrl-loop-icon-flame::before {
    content: "";
    position: absolute;
    bottom: 1px;
    left: 2px;
    width: 14px;
    height: 15px;
    border-radius: 60% 50% 60% 45%;
    background: radial-gradient(circle at 45% 25%, #fff8d9 0%, #ffc151 34%, #ff6f2f 66%, #a82e13 100%);
    transform-origin: 50% 100%;
    animation: ctrl-flame-flicker 0.82s ease-in-out infinite;
  }

  .ctrl-loop-flame-inner {
    position: absolute;
    bottom: 4px;
    left: 6px;
    width: 7px;
    height: 8px;
    border-radius: 60% 50% 60% 40%;
    background: radial-gradient(circle at 45% 28%, #fffde7 0%, #ffec9b 44%, #ffad38 100%);
    transform-origin: 50% 100%;
    animation: ctrl-flame-core 0.62s ease-in-out infinite;
  }

  .ctrl-loop-panel {
    position: relative;
    overflow: hidden;
  }

  .ctrl-loop-panel-runner {
    position: absolute;
    left: 1px;
    top: 1px;
    right: 1px;
    bottom: 1px;
    z-index: 3;
    pointer-events: none;
    --coin-size: 30px;
  }

  .ctrl-loop-panel-coin {
    position: absolute;
    left: 0;
    top: 0;
    display: block;
    width: var(--coin-size);
    height: var(--coin-size);
    border-radius: 999px;
    overflow: hidden;
    background: radial-gradient(circle at 34% 28%, rgb(255 248 204 / 0.9) 0%, rgb(255 193 92 / 0.85) 48%, rgb(255 132 52 / 0.74) 100%);
    box-shadow:
      0 0 0 1px rgb(255 229 154 / 0.7) inset,
      0 0 10px rgb(255 166 70 / 0.85),
      0 0 18px rgb(255 128 44 / 0.55);
    animation: ctrl-loop-coin-orbit 9.6s linear infinite;
  }

  .ctrl-loop-panel-coin-art {
    position: absolute;
    left: -8%;
    top: -8%;
    width: 116%;
    height: 116%;
    object-fit: cover;
    border-radius: 999px;
    transform-origin: center center;
    animation: ctrl-loop-coin-roll 1.45s linear infinite;
    filter: drop-shadow(0 0 8px rgb(255 182 66 / 0.85));
    user-select: none;
    -webkit-user-drag: none;
  }

  .ctrl-stopwatch {
    position: relative;
    display: inline-block;
    width: 18px;
    height: 18px;
    margin-top: 2px;
    color: hsl(var(--muted-foreground));
    border: 2px solid currentColor;
    border-radius: 999px;
    box-shadow: inset 0 0 0 1px rgb(255 255 255 / 0.08);
  }

  .ctrl-stopwatch-ticks {
    position: absolute;
    inset: -1px;
    border-radius: 999px;
    background: repeating-conic-gradient(
      from 0deg,
      currentColor 0deg 1.4deg,
      transparent 1.4deg 15deg
    );
    -webkit-mask: radial-gradient(circle, transparent calc(100% - 3px), #000 calc(100% - 2px));
    mask: radial-gradient(circle, transparent calc(100% - 3px), #000 calc(100% - 2px));
    opacity: 0.8;
  }

  .ctrl-stopwatch-crown {
    position: absolute;
    left: 50%;
    top: -5px;
    width: 6px;
    height: 4px;
    transform: translateX(-50%);
    border: 1.5px solid currentColor;
    border-radius: 2px;
    background: hsl(var(--background));
  }

  .ctrl-stopwatch-hand {
    position: absolute;
    left: 50%;
    top: 50%;
    transform-origin: bottom center;
    background: hsl(var(--foreground));
    border-radius: 2px;
    width: 2px;
    height: 6px;
    margin-left: -1px;
    margin-top: -6px;
    animation: ctrl-stopwatch-spin 69s linear infinite;
  }

  .ctrl-chart-crop {
    position: relative;
    height: 260px;
    background: hsl(var(--background));
  }

  .ctrl-chart-crop-frame {
    position: absolute;
    left: 0;
    top: -72px;
    width: 100%;
    height: 430px;
  }

  .ctrl-chart-crop::before,
  .ctrl-chart-crop::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    z-index: 3;
    background: hsl(var(--background));
    pointer-events: none;
  }

  .ctrl-chart-crop::before {
    top: 0;
    height: 18px;
  }

  .ctrl-chart-crop::after {
    bottom: 0;
    height: 42px;
  }


  .ctrl-oldboard-wrap {
    position: relative;
    padding-top: 30px;
    z-index: 12;
  }

  .ctrl-alon-wrap {
    position: absolute;
    left: 4.4%;
    bottom: -16px;
    width: clamp(296px, 33vw, 442px);
    z-index: 1;
    pointer-events: none;
    opacity: 0;
    transform: translateY(156px) translateX(-66px) rotate(-9deg) scale(0.9);
    filter: drop-shadow(0 22px 24px rgb(0 0 0 / 0.32));
  }

  .ctrl-alon-wrap-active {
    animation: alon-rig-wrap 5.6s cubic-bezier(0.2, 0.84, 0.16, 1) forwards;
  }

  .ctrl-alon-rig {
    position: relative;
    width: 100%;
    aspect-ratio: 760 / 860;
    overflow: visible;
  }

  .ctrl-alon-ghost {
    position: absolute;
    inset: 0;
    display: block;
    width: 100%;
    height: auto;
    user-select: none;
    -webkit-user-drag: none;
    opacity: 0;
    transform-origin: 72% 76%;
    transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    filter: blur(1.35px) saturate(1.08);
  }

  .ctrl-alon-figure {
    position: absolute;
    inset: 0;
    display: block;
    width: 100%;
    height: auto;
    user-select: none;
    -webkit-user-drag: none;
    transform-origin: 72% 76%;
    transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    filter: drop-shadow(0 8px 12px rgb(0 0 0 / 0.22));
  }

  .ctrl-alon-contact {
    position: absolute;
    right: 10%;
    bottom: 5%;
    width: 70px;
    height: 24px;
    border-radius: 999px;
    background: radial-gradient(ellipse at center, rgb(255 206 102 / 0.6) 0%, rgb(255 206 102 / 0.08) 55%, transparent 75%);
    opacity: 0;
    filter: blur(1px);
  }

  .ctrl-alon-wrap-active .ctrl-alon-figure {
    animation: alon-figure-motion 5.6s cubic-bezier(0.2, 0.84, 0.16, 1) forwards;
  }

  .ctrl-alon-wrap-active .ctrl-alon-ghost {
    animation: alon-ghost-motion 5.6s cubic-bezier(0.2, 0.84, 0.16, 1) forwards;
  }

  .ctrl-alon-wrap-active .ctrl-alon-contact {
    animation: alon-contact 5.6s ease-out forwards;
  }

  .ctrl-oldboard-shrink {
    transform: scale(0.72);
    transform-origin: top center;
    position: relative;
    z-index: 12;
  }

  .ctrl-oldboard {
    position: relative;
    z-index: 1;
    border-radius: 22px;
    border: 2px solid #2f2f2f;
    background: linear-gradient(180deg, #f6f6f6 0%, #ececec 50%, #dfdfdf 100%);
    box-shadow:
      0 1px 0 #fff inset,
      0 -2px 0 rgb(0 0 0 / 0.15) inset,
      0 14px 30px rgb(0 0 0 / 0.24);
    padding: 12px;
  }

  .ctrl-old-row {
    display: grid;
    grid-template-columns: repeat(30, minmax(0, 1fr));
    gap: 6px;
    margin-bottom: 6px;
  }

  .ctrl-old-row:last-child {
    margin-bottom: 0;
  }

  .ctrl-old-key {
    height: 48px;
    border-radius: 12px;
    border: 2px solid #3a3a3a;
    background: linear-gradient(180deg, #ffffff 0%, #f4f4f4 60%, #e8e8e8 100%);
    color: #141414;
    font-family: "Segoe UI", "Trebuchet MS", sans-serif;
    font-size: 13px;
    font-weight: 800;
    letter-spacing: 0.02em;
    line-height: 1;
    text-shadow: 0 1px 0 #ffffff;
    box-shadow:
      0 1px 0 #fff inset,
      0 -3px 0 rgb(0 0 0 / 0.2) inset,
      0 4px 8px rgb(0 0 0 / 0.15);
    cursor: pointer;
    user-select: none;
    transition: transform 0.04s ease, box-shadow 0.04s ease;
  }

  .ctrl-key-logo-wrap {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  .ctrl-key-logo-icon {
    width: 16px;
    height: 16px;
    color: #0f1012;
  }

  .ctrl-key-logo-pumpfun {
    width: 17px;
    height: 17px;
    object-fit: contain;
    border-radius: 3px;
  }

  .ctrl-key-ctrl-wrap {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    width: 100%;
    height: 100%;
    font-size: 13px;
    line-height: 1;
  }

  .ctrl-key-logo-fire {
    width: 13px;
    height: 13px;
    color: #e65f1d;
  }

  .ctrl-old-key:active {
    transform: translateY(3px) scale(0.985);
    box-shadow:
      0 1px 0 #fff inset,
      0 0 0 rgb(0 0 0 / 0.2) inset,
      0 1px 2px rgb(0 0 0 / 0.18);
  }

  .ctrl-old-key.is-typing-key {
    transform: translateY(2px) scale(0.99);
    border-color: #3a3a3a;
    color: #141414;
    background: linear-gradient(180deg, #ffffff 0%, #f0f0f0 60%, #e0e0e0 100%);
    box-shadow:
      0 1px 0 #fff inset,
      0 -1px 0 rgb(0 0 0 / 0.22) inset,
      0 1px 2px rgb(0 0 0 / 0.18);
  }

  .ctrl-old-key-link {
    cursor: pointer;
  }

  .ctrl-key-satosheh {
    display: inline-block;
    width: 100%;
    text-align: center;
    font-size: 12px;
    letter-spacing: 0.01em;
    text-transform: none;
  }
}

@layer utilities {
  @keyframes glitch-short {
    0%, 100% { transform: translate(0); }
    25% { transform: translate(-1px, 1px); }
    50% { transform: translate(1px, -1px); }
    75% { transform: translate(-1px, 0); }
  }

  @keyframes ctrl-press {
    0% { transform: scale(1); }
    50% { transform: scale(0.995) translateY(1px); }
    100% { transform: scale(1); }
  }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
  }

  @keyframes gold-pulse {
    0%, 100% {
      box-shadow:
        0 0 0 1px rgb(255 218 98 / 0.4) inset,
        0 0 0 2px rgb(176 114 12 / 0.22),
        0 0 19px rgb(255 210 70 / 0.42),
        0 0 34px rgb(255 186 30 / 0.3);
    }
    50% {
      box-shadow:
        0 0 0 1px rgb(255 235 152 / 0.78) inset,
        0 0 0 2px rgb(206 134 18 / 0.34),
        0 0 32px rgb(255 228 122 / 0.72),
        0 0 58px rgb(255 190 34 / 0.5);
    }
  }

  @keyframes gold-glitter {
    0% {
      transform: translateX(-120%);
      opacity: 0;
    }
    16% {
      opacity: 1;
    }
    48% {
      transform: translateX(130%);
      opacity: 0.9;
    }
    100% {
      transform: translateX(130%);
      opacity: 0;
    }
  }

  @keyframes transparency-sheen {
    0% {
      transform: translateX(-130%);
      opacity: 0;
    }
    10% {
      opacity: 0.65;
    }
    55% {
      transform: translateX(38%);
      opacity: 0.62;
    }
    100% {
      transform: translateX(150%);
      opacity: 0;
    }
  }

  @keyframes gold-sparkle {
    0% {
      transform: translate(-50%, -50%) scale(0.25);
      opacity: 0;
      filter: brightness(0.9);
    }
    35% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
      filter: brightness(1.5);
    }
    100% {
      transform: translate(-50%, -50%) scale(0.34);
      opacity: 0;
      filter: brightness(1);
    }
  }

  @keyframes ctrl-stopwatch-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes ctrl-coin-flip {
    0% {
      transform: rotateY(0deg) scale(1);
      filter: brightness(0.95);
    }
    50% {
      transform: rotateY(180deg) scale(0.95);
      filter: brightness(1.12);
    }
    100% {
      transform: rotateY(360deg) scale(1);
      filter: brightness(0.95);
    }
  }

  @keyframes ctrl-cart-wobble {
    0%, 100% {
      transform: translateX(-0.5px);
    }
    50% {
      transform: translateX(1.5px);
    }
  }

  @keyframes ctrl-wheel-spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  @keyframes ctrl-flame-flicker {
    0%, 100% {
      transform: scaleY(0.94) rotate(-2deg);
      opacity: 0.96;
    }
    45% {
      transform: scaleY(1.08) rotate(1.5deg);
      opacity: 1;
    }
    72% {
      transform: scaleY(0.98) rotate(-1deg);
      opacity: 0.93;
    }
  }

  @keyframes ctrl-flame-core {
    0%, 100% {
      transform: scaleY(0.92) translateY(0);
      opacity: 0.88;
    }
    50% {
      transform: scaleY(1.08) translateY(-0.6px);
      opacity: 1;
    }
  }

  @keyframes ctrl-loop-coin-orbit {
    0% {
      left: 0;
      top: 0;
    }
    24.99% {
      left: calc(100% - var(--coin-size));
      top: 0;
    }
    25% {
      left: calc(100% - var(--coin-size));
      top: 0;
    }
    49.99% {
      left: calc(100% - var(--coin-size));
      top: calc(100% - var(--coin-size));
    }
    50% {
      left: calc(100% - var(--coin-size));
      top: calc(100% - var(--coin-size));
    }
    74.99% {
      left: 0;
      top: calc(100% - var(--coin-size));
    }
    75% {
      left: 0;
      top: calc(100% - var(--coin-size));
    }
    100% {
      left: 0;
      top: 0;
    }
  }

  @keyframes ctrl-loop-coin-roll {
    0% {
      transform: rotate(0deg) scale(1);
    }
    25% {
      transform: rotate(90deg) scale(0.96, 1.03);
    }
    50% {
      transform: rotate(180deg) scale(1);
    }
    75% {
      transform: rotate(270deg) scale(1.03, 0.96);
    }
    100% {
      transform: rotate(360deg) scale(1);
    }
  }

  @keyframes ctrl-loop-runner-flame {
    0%, 100% {
      transform: scale(0.9) rotate(-8deg);
      opacity: 0.9;
    }
    50% {
      transform: scale(1.08) rotate(8deg);
      opacity: 1;
    }
  }

  @keyframes panel-heat-pulse {
    0% {
      box-shadow:
        inset 0 0 0 1px rgb(255 124 66 / 0.24),
        inset 0 -20px 34px rgb(255 72 26 / 0.26),
        inset 0 -9px 22px rgb(92 190 255 / 0.2),
        0 0 16px rgb(255 84 29 / 0.2);
    }
    31% {
      box-shadow:
        inset 0 0 0 1px rgb(255 172 96 / 0.54),
        inset 0 -34px 56px rgb(255 86 29 / 0.48),
        inset 0 -14px 32px rgb(113 205 255 / 0.4),
        0 0 44px rgb(255 98 37 / 0.42);
    }
    62% {
      box-shadow:
        inset 0 0 0 1px rgb(255 143 78 / 0.38),
        inset 0 -24px 40px rgb(255 92 34 / 0.34),
        inset 0 -10px 25px rgb(122 206 255 / 0.34),
        0 0 30px rgb(255 90 34 / 0.3);
    }
    100% {
      box-shadow:
        inset 0 0 0 1px rgb(255 124 66 / 0.24),
        inset 0 -20px 34px rgb(255 72 26 / 0.26),
        inset 0 -9px 22px rgb(92 190 255 / 0.2),
        0 0 16px rgb(255 84 29 / 0.2);
    }
  }

  @keyframes flame-flicker {
    0% {
      opacity: 0.82;
      transform: translateY(14px) scaleY(0.76) scaleX(1.04) skewX(-2deg);
    }
    18% {
      opacity: 0.98;
      transform: translateY(6px) scaleY(0.92) scaleX(0.97) skewX(1.8deg);
    }
    41% {
      opacity: 1;
      transform: translateY(-4px) scaleY(1.12) scaleX(1.02) skewX(-1.4deg);
    }
    69% {
      opacity: 0.9;
      transform: translateY(4px) scaleY(0.88) scaleX(1.06) skewX(1.3deg);
    }
    100% {
      opacity: 0.84;
      transform: translateY(12px) scaleY(0.78) scaleX(1.03) skewX(-1deg);
    }
  }

  @keyframes heat-sweep {
    0% {
      transform: translateX(-34%) translateY(14px) scale(0.96);
      opacity: 0;
    }
    14% {
      opacity: 0.72;
    }
    44% {
      transform: translateX(1%) translateY(0) scale(1.04);
      opacity: 0.9;
    }
    73% {
      transform: translateX(13%) translateY(-8px) scale(1.02);
      opacity: 0.76;
    }
    100% {
      transform: translateX(30%) translateY(-15px) scale(0.94);
      opacity: 0;
    }
  }

  @keyframes ember-rise {
    0% {
      transform: translateY(20px) translateX(-3px) scale(0.7);
      opacity: 0.16;
    }
    24% {
      transform: translateY(8px) translateX(2px) scale(1.04);
      opacity: 0.92;
    }
    58% {
      transform: translateY(-4px) translateX(-1px) scale(0.9);
      opacity: 0.7;
    }
    100% {
      transform: translateY(-20px) translateX(5px) scale(0.64);
      opacity: 0;
    }
  }

  @keyframes flame-lick {
    0% {
      background-position:
        1% 100%,
        23% 100%,
        46% 100%,
        69% 100%,
        88% 100%,
        50% 100%,
        50% 100%;
    }
    50% {
      background-position:
        -2% 94%,
        26% 90%,
        44% 93%,
        72% 89%,
        90% 94%,
        52% 97%,
        49% 98%;
    }
    100% {
      background-position:
        1% 100%,
        23% 100%,
        46% 100%,
        69% 100%,
        88% 100%,
        50% 100%,
        50% 100%;
    }
  }

  @keyframes soot-breathe {
    0%, 100% {
      filter: blur(0.2px) saturate(1.06);
    }
    50% {
      filter: blur(0.8px) saturate(1.18);
    }
  }

  @keyframes alon-rig-wrap {
    0% {
      opacity: 0;
      transform: translateY(156px) translateX(-66px) rotate(-9deg) scale(0.9);
    }
    10% {
      opacity: 1;
      transform: translateY(130px) translateX(-58px) rotate(-8deg) scale(0.91);
    }
    24% {
      opacity: 1;
      transform: translateY(102px) translateX(-47px) rotate(-7deg) scale(0.93);
    }
    42% {
      opacity: 1;
      transform: translateY(70px) translateX(-34px) rotate(-5.8deg) scale(0.95);
    }
    58% {
      opacity: 1;
      transform: translateY(42px) translateX(-20px) rotate(-4.1deg) scale(0.97);
    }
    72% {
      opacity: 1;
      transform: translateY(20px) translateX(-8px) rotate(-2deg) scale(0.99);
    }
    83% {
      opacity: 1;
      transform: translateY(8px) translateX(28px) rotate(1.2deg) scale(1.02);
    }
    88% {
      opacity: 1;
      transform: translateY(16px) translateX(42px) rotate(2.3deg) scale(1.04);
    }
    93% {
      opacity: 1;
      transform: translateY(6px) translateX(18px) rotate(0.6deg) scale(1.01);
    }
    100% {
      opacity: 0;
      transform: translateY(164px) translateX(-58px) rotate(-8deg) scale(0.9);
    }
  }

  @keyframes alon-body {
    0%, 62% {
      transform: translate3d(0, 0, 0) rotate(0deg);
    }
    78% {
      transform: translate3d(4px, -2px, 0) rotate(0.5deg);
    }
    88% {
      transform: translate3d(8px, 2px, 0) rotate(1deg);
    }
    93% {
      transform: translate3d(3px, -1px, 0) rotate(0.2deg);
    }
    100% {
      transform: translate3d(0, 0, 0) rotate(0deg);
    }
  }

  @keyframes alon-arm {
    0%, 65% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
    80% {
      transform: translate3d(14px, -2px, 0) rotate(8deg) scale(1.01);
    }
    88% {
      transform: translate3d(24px, 4px, 0) rotate(14deg) scale(1.03);
    }
    93% {
      transform: translate3d(12px, 0, 0) rotate(7deg) scale(1.01);
    }
    100% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
  }

  @keyframes alon-hand {
    0%, 72% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
    86% {
      transform: translate3d(18px, 7px, 0) rotate(16deg) scale(1.06);
    }
    90% {
      transform: translate3d(28px, 13px, 0) rotate(19deg) scale(1.08);
    }
    93% {
      transform: translate3d(12px, 5px, 0) rotate(10deg) scale(1.03);
    }
    100% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
  }

  @keyframes alon-contact {
    0%, 80% {
      opacity: 0;
      transform: scale(0.6);
    }
    86% {
      opacity: 1;
      transform: scale(1.22);
    }
    89% {
      opacity: 0.9;
      transform: scale(1.05);
    }
    93% {
      opacity: 0.45;
      transform: scale(0.8);
    }
    100% {
      opacity: 0;
      transform: scale(0.6);
    }
  }

  @keyframes alon-figure-motion {
    0%, 62% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
    74% {
      transform: translate3d(5px, -2px, 0) rotate(1deg) scale(1.01);
    }
    83% {
      transform: translate3d(18px, 3px, 0) rotate(2.1deg) scale(1.03);
    }
    88% {
      transform: translate3d(28px, 11px, 0) rotate(3.3deg) scale(1.06);
    }
    92% {
      transform: translate3d(12px, 2px, 0) rotate(1.1deg) scale(1.02);
    }
    96% {
      transform: translate3d(5px, 0px, 0) rotate(0.3deg) scale(1.01);
    }
    100% {
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
  }

  @keyframes alon-ghost-motion {
    0%, 70% {
      opacity: 0;
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
    82% {
      opacity: 0.2;
      transform: translate3d(12px, 2px, 0) rotate(1.7deg) scale(1.02);
    }
    88% {
      opacity: 0.28;
      transform: translate3d(24px, 8px, 0) rotate(2.8deg) scale(1.04);
    }
    94% {
      opacity: 0.14;
      transform: translate3d(8px, 1px, 0) rotate(0.8deg) scale(1.01);
    }
    100% {
      opacity: 0;
      transform: translate3d(0, 0, 0) rotate(0deg) scale(1);
    }
  }


  .animate-glitch {
    animation: glitch-short 0.15s ease-in-out;
  }

  .animate-ctrl-press {
    animation: ctrl-press 0.25s ease-in-out;
  }

  .animate-blink {
    animation: blink 1s step-end infinite;
  }
}

